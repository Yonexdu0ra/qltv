<!-- Overlay (mobile) -->
<div
  id="sidebarOverlay"
  class="fixed inset-0 bg-black/50 hidden z-40 md:hidden"
></div>

<!-- Sidebar -->
<aside
  id="sidebar"
  class="fixed md:static inset-y-0 left-0 w-full sm:w-64 bg-gray-900 text-gray-100 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-50"
>
  <div class="p-4 flex items-center justify-between border-b border-gray-800 sm:hidden">
    <h2 class="text-lg font-semibold ">Quản Lý Thư viện</h2>
    <button id="closeSidebar" class="md:hidden text-gray-400 hover:text-white">
      ✕
    </button>
  </div>

  <nav class="p-4 space-y-1">
    <a
      href="/"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/dashboard' ? 'bg-gray-800' : '' %>"
      >Trang chủ</a
    >
    <a
      href="/books"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/books' ? 'bg-gray-800' : '' %>"
      >Sách</a
    >
    <a
      href="/authors"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/authors' ? 'bg-gray-800' : '' %>"
      >Tác giả</a
    >
    <a
      href="/genre"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/genre' ? 'bg-gray-800' : '' %>"
      >Thể loại</a
    >
    <a
      href="/borrow"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/borrow' ? 'bg-gray-800' : '' %>"
      >Mượn / Trả</a
    >
    <a
      href="/users"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/users' ? 'bg-gray-800' : '' %>"
      >Người dùng</a
    >
    <a
      href="/accounts"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/accounts' ? 'bg-gray-800' : '' %>"
      >Tài khoản</a
    >
    <a
      href="/fines"
      class="block px-3 py-2 rounded-md hover:bg-gray-800 text-gray-200 font-medium <%= currentPath === '/fines' ? 'bg-gray-800' : '' %>"
      >Phí phạt</a
    >
  </nav>
</aside>

<script>
  const sidebar = document.getElementById("sidebar");
  const sidebarOverlay = document.getElementById("sidebarOverlay");
  const menuToggle = document.getElementById("menuToggle");
  const closeSidebar = document.getElementById("closeSidebar");

  menuToggle?.addEventListener("click", () => {
    sidebar.classList.remove("-translate-x-full");
    sidebarOverlay.classList.remove("hidden");
  });

  closeSidebar?.addEventListener("click", hideSidebar);
  sidebarOverlay?.addEventListener("click", hideSidebar);

  function hideSidebar() {
    sidebar.classList.add("-translate-x-full");
    setTimeout(() => sidebarOverlay.classList.add("hidden"), 300);
  }
</script>
