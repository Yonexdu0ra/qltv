<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/choices.js@11.1.0/public/assets/styles/choices.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/choices.js@11.1.0/public/assets/scripts/choices.min.js"></script>
<script src="/js/debounce.js"></script>
<script src="/js/useChoice.js"></script>
<div class="max-w-5xl mx-auto p-6">
  <h1 class="text-xl font-semibold mb-4">Thêm phiếu phạt</h1>
  <%- include('../error') %>
  <form
    enctype="multipart/form-data"
    method="POST"
    class="p-4 rounded border border-gray-200 space-y-2"
  >
    <div class="flex flex-col gap-2">
      <label for="title" class="block text-sm font-medium text-gray-700"
        >Tên sách</label
      >
      <input
        type="text"
        name="title"
        placeholder="Nhập tên sách"
        id="title"
        class="block w-full border border-gray-300 rounded-md shadow-sm p-2"
        required
      />
    </div>
    <div class="flex flex-col gap-2">
      <label for="amount" class="block text-sm font-medium text-gray-700"
        >Số tiền</label
      >
      <input
        type="text"
        name="amount"
        placeholder="Nhập số tiền"
        id="amount"
        class="block w-full border border-gray-300 rounded-md shadow-sm p-2"
        required
      />
    </div>
    <div class="flex flex-col gap-2">
      <label for="status" class="block text-sm font-medium text-gray-700"
        >Trạng thái</label
      >
      <select
        name="status"
        id="status"
        class="block w-full border border-gray-300 rounded-md shadow-sm p-2"
      >
        
      </select>
    </div>

    <button class="bg-green-600 text-white px-4 py-2 rounded">Lưu</button>
    <a href="/fines" class="text-gray-600 hover:underline ml-3">Quay lại</a>
  </form>
</div>

<script>
  const image_cover = document.getElementById("image_cover");
  const show_image_cover = document.getElementById("show_image_cover");
  image_cover.addEventListener("change", function () {
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (event) {
        show_image_cover.innerHTML = `<img src="${event.target.result}" alt="Ảnh bìa" class="mt-2 max-h-48">`;
      };
      reader.readAsDataURL(file);
    } else {
      show_image_cover.innerHTML = "";
    }
  });
</script>

<script>
  const data = [
    {
      value: "DAMAGED",
      label: "Hư hỏng",
    },
    {
      value: "LOSTED",
      label: "Đã mất",
    },
  ];
  useChoice("#status", null, () => {
    return data;
  });
</script>
